(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[562],{8500:function(t,e,i){Promise.resolve().then(i.t.bind(i,6685,23)),Promise.resolve().then(i.bind(i,8967)),Promise.resolve().then(i.t.bind(i,3916,23))},8967:function(t,e,i){"use strict";i.r(e),i.d(e,{FluidSimView:function(){return v}});var n,r,s=i(7437),a=i(2265),l=i(5064),h=i(9107),o=i(5666);class c{noise(t,e){var i,n,r;let s=255&Math.floor(t),a=255&Math.floor(e);t-=Math.floor(t),e-=Math.floor(e);let l=u(t),h=u(e),o=this.perm[s]+a,c=this.perm[o%255],d=this.perm[(o+1)%255],f=this.perm[(s+1)%255]+a,x=this.perm[f%255],y=this.perm[(f+1)%255];return r=(i=m(this.grad2[c%12],t,e))+l*(m(this.grad2[x%12],t-1,e)-i),r+h*((n=m(this.grad2[d%12],t,e-1))+l*(m(this.grad2[y%12],t-1,e-1)-n)-r)}octaveNoise(t,e,i,n){let r=0,s=1,a=1,l=0;for(let h=0;h<i;h++)r+=this.noise(t*s,e*s)*a,l+=a,a*=n,s*=2;return r/l*2.5}constructor(t){this.grad2=[[1,1],[-1,1],[1,-1],[-1,-1],[1,0],[-1,0],[1,0],[-1,0],[0,1],[0,-1],[0,1],[0,-1]];let e=new o.k(t),i=(0,h.VL)(256,0);for(let t=0;t<256;t++)i[t]=e.randint(0,256);this.perm=i}}function u(t){return t*t*t*(t*(6*t-15)+10)}function m(t,e,i){return t[0]*e+t[1]*i}function d(){return{sim:function(t,e){let i=.1/t,n={width:t,height:e,numPressureIterations:1,cells:new Float32Array(t*e*4),cells2:new Float32Array(t*e*4),cells3:new Float32Array(t*e*4),pressure0:new Float32Array(t*e),pressure1:new Float32Array(t*e),divergence0:new Float32Array(t*e),divergence1:new Float32Array(t*e),cellSize:i,aggregates:null,iterCount:0},r=4/t,s=4/e,a=new c(4);new c(7),new c(8);let l=0;for(let i=0;i<e;i++)for(let h=0;h<t;h++){n.cells[(i*t+h)*4+0]=a.octaveNoise((h+10)*r,(i+10)*s,5,.8),n.cells[(i*t+h)*4+1]=1;let o=0,c=0;h>4*t/10&&h<6*t/10&&i>4*e/10&&i<6*e/10&&(c=.04,l=Math.max(l,o=.04)),n.cells[(i*t+h)*4+2]=o,n.cells[(i*t+h)*4+3]=c}return console.log("maxVelX: ".concat(l,", cellSize: ").concat(i,", maxVelX / cellSize: ").concat(l/i)),x(n),y(n),n}(64,64),running:!1,canvasTemp:document.createElement("canvas")}}function f(t,e){let i=performance.now(),n=e/1e3;function r(e,i,n,r){return e[(i*t.width+n)*4+r]}function s(e,i,n,r){return i=i<0?0:i>=t.height?t.height-1:i,n=n<0?0:n>=t.width?t.width-1:n,e[(i*t.width+n)*4+r]}function a(e,i,n,r,s){e[(i*t.width+n)*4+r]=s}function l(e,i,n){return i=i<0?0:i>=t.height?t.height-1:i,n=n<0?0:n>=t.width?t.width-1:n,e[i*t.width+n]}function h(t,e,i,n){let r=Math.floor(e),a=Math.floor(i),l=r+1,h=a+1,o=s(t,r,a,n),c=s(t,l,a,n),u=s(t,r,h,n),m=s(t,l,h,n),d=e-r,f=i-a,x=1-d,y=1-f;return o*y*x+c*y*d+u*f*x+m*f*d}if(t.iterCount>0){let e=0,i=0;for(let s=0;s<t.height;s++)for(let l=0;l<t.width;l++){let o=r(t.cells,s,l,2),c=r(t.cells,s,l,3),u=l-o*n/t.cellSize,m=s-c*n/t.cellSize;e=Math.max(e,Math.abs(u-l)),i=Math.max(i,Math.abs(o));let d=h(t.cells,m,u,0),f=h(t.cells,m,u,1),x=h(t.cells,m,u,2),y=h(t.cells,m,u,3);a(t.cells2,s,l,0,d),a(t.cells2,s,l,1,f),a(t.cells2,s,l,2,x),a(t.cells2,s,l,3,y)}}else t.cells2.set(t.cells);let o=t.cells2,c=t.cells;c.set(o);let u=t.cells3;t.cellSize,t.cellSize,t.cellSize,t.cellSize,t.cellSize,t.cellSize;let m=t.pressure0,d=t.pressure1;function f(e,i){for(let a=0;a<t.height;a++)for(let l=0;l<t.width;l++){var n,r;let h=(s(e,a,l+1,2)-s(e,a,l-1,2)+(s(e,a+1,l,3)-s(e,a-1,l,3)))/(2*t.cellSize);n=a,r=l,i[n*t.width+r]=h}}function w(e,i,n){for(let s=0;s<t.height;s++)for(let h=0;h<t.width;h++){let o=l(n,s-1,h),c=l(n,s+1,h),u=l(n,s,h-1),m=l(n,s,h+1),d=r(e,s,h,2)-(m-u)/(2*t.cellSize);a(i,s,h,2,d);let f=r(e,s,h,3)-(c-o)/(2*t.cellSize);a(i,s,h,3,f)}}{m.fill(0),f(c,t.divergence0),t.divergence1.set(t.divergence0);let e=0===t.iterCount?1024:200;for(let i=0;i<e;i++){!function(e,i,n){for(let o=0;o<t.height;o++)for(let c=0;c<t.width;c++){var r,s,a,h;let u=(r=o,s=c,e[r*t.width+s]),m=l(i,o-1,c),d=l(i,o+1,c),f=(l(i,o,c-1)+l(i,o,c+1)+m+d-u*t.cellSize*t.cellSize)/4;a=o,h=c,n[a*t.width+h]=f}}(t.divergence0,m,d);let e=m;m=d,d=e}w(c,u,m),f(u,t.divergence1),w(c,c,m)}t.pressure0=m,t.pressure1=d,t.cells=c,t.cells2=u,t.cells3=o,x(t),y(t),t.iterCount+=1,console.log("step took "+(performance.now()-i)+"ms")}function x(t){function e(e,i,n,r,s){e[(i*t.width+n)*4+r]=s}for(let i=0;i<t.width;i++)e(t.cells,0,i,2,0),e(t.cells,0,i,3,0),e(t.cells,t.height-1,i,2,0),e(t.cells,t.height-1,i,3,0);for(let i=0;i<t.height;i++)e(t.cells,i,0,2,0),e(t.cells,i,0,3,0),e(t.cells,i,t.width-1,2,0),e(t.cells,i,t.width-1,3,0)}function y(t){function e(e,i,n,r){return e[(i*t.width+n)*4+r]}let i={totalMass:0,totalKineticEnergy:0,totalMomentumX:0,totalMomentumY:0,averageTemperature:0};for(let n=0;n<t.height;n++)for(let r=0;r<t.width;r++){let s=e(t.cells,n,r,0),a=e(t.cells,n,r,1),l=e(t.cells,n,r,2),h=e(t.cells,n,r,3),o=a*t.cellSize*t.cellSize;i.totalMass+=o,i.totalKineticEnergy+=o*(l*l+h*h)/2,i.totalMomentumX+=o*l,i.totalMomentumY+=o*h,i.averageTemperature+=o*s}return i.averageTemperature/=i.totalMass,t.aggregates=i,i}var w=i(7501),g=i.n(w),p=i(2348);let z=new p.tH,v=()=>{var t;let[e,i]=(0,a.useState)(null);function n(){e&&(e.fluidSimState=d(),e.fluidSimState.sim.numPressureIterations=0,f(e.fluidSimState.sim,20),e.markDirty())}function h(){e&&(e.fluidSimState.sim.numPressureIterations,f(e.fluidSimState.sim,20),e.markDirty())}(0,p.Pd)(null!==(t=null==e?void 0:e.subscriptions)&&void 0!==t?t:z),(0,l.A)(),(0,a.useEffect)(()=>{function t(t){e&&(t.key.toLowerCase()," "===t.key&&h(),"Backspace"===t.key&&n())}return document.addEventListener("keydown",t),()=>{document.removeEventListener("keydown",t)}}),(0,a.useEffect)(()=>{console.log("canvasEl created; creating FluidSimManager");let t=new b;return i(t),t.markDirty(),()=>{t.looper.stopped=!0,i(null)}},[]),null==e||e.markDirty();let o=null==e?void 0:e.fluidSimState.sim;return(0,s.jsxs)("div",{className:g().page,children:["FluidSimView",e&&o&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("button",{onClick:n,children:"Reset"}),(0,s.jsx)("button",{onClick:h,children:"Step"}),(0,s.jsx)("button",{onClick:function(){e&&(e.fluidSimState.running=!e.fluidSimState.running,e.markDirty())},children:"Play/Pause"}),(0,s.jsxs)("div",{children:["Num Pressure Iterations: ",o.numPressureIterations]}),(0,s.jsxs)("div",{className:"flex flex-row",children:[(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(S,{manager:e,sourceType:r.VelocityVector,sourceArray:o.cells,name:"Main"}),(0,s.jsx)(S,{manager:e,sourceType:r.Scalar,sourceArray:o.pressure0,name:"Pressure"})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)(S,{manager:e,sourceType:r.Scalar,sourceArray:o.divergence0,name:"Divergence Initial"}),(0,s.jsx)(S,{manager:e,sourceType:r.Scalar,sourceArray:o.divergence1,name:"Divergence Validation"})]})]})]})]})};(n=r||(r={}))[n.VelocityVector=0]="VelocityVector",n[n.Temp=1]="Temp",n[n.Density=2]="Density",n[n.Scalar=3]="Scalar";let S=t=>{let{manager:e,name:i,...n}=t,[l,h]=a.useState(null);return(0,p.Pd)(e.subscriptions),(0,a.useLayoutEffect)(()=>{if(l){var t;let i=l.parentElement.getBoundingClientRect(),s=window.devicePixelRatio;l.width=i.width*s,l.height=i.height*s,t=e.fluidSimState,l.getContext("2d").clearRect(0,0,l.width,l.height),n.sourceType===r.VelocityVector&&function(t,e,i){let n=e.getContext("2d"),r=t.sim.width,s=t.sim.height,a=new Uint8ClampedArray(r*s*4),l=t.sim.width*t.sim.height;for(let t=0;t<l;t++){let e=i[4*t+0];i[4*t+2],i[4*t+3],a[4*t+0]=A(e),a[4*t+3]=255}{let e=t.canvasTemp;e.width=r,e.height=s;let i=e.getContext("2d"),n=new ImageData(a,r,s);i.putImageData(n,0,0)}n.imageSmoothingEnabled=!1,n.drawImage(t.canvasTemp,0,0,e.width,e.height),n.save(),n.scale(e.width/r,e.height/s),n.globalAlpha=.1;for(let t=0;t<s;t+=3)for(let s=0;s<r;s+=3){let a=i[(t*r+s)*4+2],l=i[(t*r+s)*4+3],h=Math.sqrt(a*a+l*l),o=A(40*h)/255*3,c=s+.5,u=t+.5,m=c+a*o/h,d=u+l*o/h,f=m-c,x=d-u,y=m-.2*f+.2*x,w=d-.2*x-.2*f,g=m-.2*f-.2*x,p=d-.2*x+.2*f;n.beginPath(),n.moveTo(c,u),n.lineTo(m,d),n.lineTo(y,w),n.moveTo(m,d),n.lineTo(g,p),n.strokeStyle="white",n.lineWidth=r/e.width,n.stroke()}n.restore()}(t,l,n.sourceArray),n.sourceType===r.Scalar&&function(t,e,i){let n=e.getContext("2d"),r=t.sim.width,s=t.sim.height,a=new Uint8ClampedArray(r*s*4),l=r*s;for(let t=0;t<l;t++)a[4*t+0]=A(40*i[t]),a[4*t+3]=255;{let i=t.canvasTemp;i.width=r,i.height=s;let l=i.getContext("2d"),h=new ImageData(a,r,s);l.putImageData(h,0,0),n.imageSmoothingEnabled=!1,n.drawImage(t.canvasTemp,0,0,e.width,e.height)}}(t,l,n.sourceArray)}}),(0,s.jsxs)("div",{className:"flex flex-col m-2",children:[(0,s.jsx)("div",{className:"text-center",children:i}),(0,s.jsx)("div",{className:"aspect-square relative overflow-hidden flex-none w-[256px] h-[256px]",children:(0,s.jsx)("canvas",{ref:h,className:g().canvas})})]})};class b{constructor(){this.subscriptions=new p.tH,this.render=(t,e)=>{this.fluidSimState.running&&f(this.fluidSimState.sim,10),this.fluidSimState,this.subscriptions.subs.forEach(t=>t())},this.looper=new M(this.render),this.markDirty=this.looper.markDirty,this.fluidSimState=d()}}class M{constructor(t){this.render=t,this.stopped=!1,this.prevTime=performance.now(),this.rafHandle=0,this.isDirty=!1,this.markDirty=()=>{!this.stopped&&(this.isDirty=!0,this.rafHandle||(this.prevTime=performance.now(),this.rafHandle=requestAnimationFrame(this.loop)))},this.loop=t=>{if(!this.isDirty||this.stopped){this.rafHandle=0;return}let e=this.isDirty;this.isDirty=!1;let i=t-this.prevTime;this.prevTime=t,i<8&&(i=16),(e||this.isDirty)&&this.render(t,i),this.rafHandle=requestAnimationFrame(this.loop)}}}function A(t){return 255*(1/(1+Math.exp(-t)))}},9107:function(t,e,i){"use strict";i.d(e,{BF:function(){return a},DX:function(){return c},Dw:function(){return d},EH:function(){return h},RG:function(){return m},VL:function(){return r},kK:function(){return o},uZ:function(){return u},v4:function(){return l},wA:function(){return s},yE:function(){return f}});var n=i(9158);function r(t,e){return Array(t).fill(null!=e?e:0)}function s(t,e,i){return Array(t).fill(0).map((n,r)=>e+r*(i-e)/(t-1))}function a(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=Array(t).fill(n);return r[e]=i,r}function l(t,e){let i=Object.keys(e),r=!1;for(let s of(t=null!=t?t:{},i)){let i=e[s],a=t[s];i===a||i instanceof Date&&a instanceof Date&&+i==+a||i instanceof n.AO&&a instanceof n.AO&&0===i.distSq(a)||(r=!0)}return r?Object.assign({},t,e):t}function h(t,e){return e&&t?l(t,e):e}function o(t){return null==t}function c(t){return null!=t}function u(t,e,i){return t<e?e:t>i?i:t}function m(t){let e=window.atob(t),i=e.length,n=new Uint8Array(i);for(let t=0;t<i;t++)n[t]=e.charCodeAt(t);return n.buffer}function d(t,e,i){let n=t.get(e);if(void 0===n){let n=i();return t.set(e,n),n}return n}function f(t,e){return(t&e)===e}},2348:function(t,e,i){"use strict";i.d(e,{Pd:function(){return h},Yz:function(){return a},gQ:function(){return s},tH:function(){return l},tR:function(){return r}});var n=i(2265);function r(t){let e=(0,n.useRef)(t);return(0,n.useEffect)(()=>{e.current=t},[t]),e}function s(t,e){let i=r(e);(0,n.useEffect)(()=>{let e,n,r=!1;if(t)return e=requestAnimationFrame(function t(s){let a=(void 0===n?16:s-n)/1e3;n=s,i.current(a),r||(e=requestAnimationFrame(t))}),()=>{r=!0,cancelAnimationFrame(e)}},[t,i])}function a(t,e,i,s){var a;let l=r(i),h=null!==(a=null==s?void 0:s.runImmediately)&&void 0!==a&&a;(0,n.useEffect)(()=>{if(t){let t=setInterval(l.current,e);return h&&l.current(),()=>clearInterval(t)}},[t,e,l,h])}class l{constructor(){this.subs=new Set,this.subscribe=t=>(this.subs.add(t),()=>this.subs.delete(t)),this.notify=()=>{for(let t of this.subs)t()}}}function h(t){let[,e]=(0,n.useReducer)(t=>t+1,0);(0,n.useEffect)(()=>null==t?void 0:t.subscribe(e),[t])}},5064:function(t,e,i){"use strict";i.d(e,{A:function(){return a},T:function(){return l}});var n=i(2265),r=i(9158),s=i(2348);function a(){let[t,e]=(0,n.useState)({width:0,height:0,isDesktop:!0,isPhone:!1});return(0,n.useEffect)(()=>{let t=window.matchMedia("screen and (max-width: 800px)");function i(){e({width:window.innerWidth,height:window.innerHeight,isDesktop:!t.matches,isPhone:t.matches})}return i(),window.addEventListener("resize",i),t.addEventListener("change",i),()=>{window.removeEventListener("resize",i),t.removeEventListener("change",i)}},[]),t}function l(t,e){let i=(0,s.tR)(e);(0,n.useEffect)(()=>{if(!t)return;function e(){let e=t.getBoundingClientRect();i.current(new r.AO(e.width,e.height,0),e)}let n=new ResizeObserver(e);return n.observe(t),e(),()=>n.disconnect()},[t,i])}},5666:function(t,e,i){"use strict";i.d(e,{k:function(){return r}});var n=i(9107);class r{randint(t,e){return(0,n.uZ)(Math.floor(this.random()*(e-t)+t),t,e-1)}constructor(t){var e,i,n,r,s;let a;this.normal=()=>Math.sqrt(-2*Math.log(this.random()))*Math.cos(2*Math.PI*this.random()),this.random=(i=(a=function(t){for(var e=0,i=1779033703^t.length;e<t.length;e++)i=(i=Math.imul(i^t.charCodeAt(e),3432918353))<<13|i>>>19;return function(){return i=Math.imul((i=Math.imul(i^i>>>16,2246822507))^i>>>13,3266489909),(i^=i>>>16)>>>0}}(null!=(e=null==t?void 0:t.toString())?e:Math.random().toString()))(),n=a(),r=a(),s=a(),function(){i>>>=0,n>>>=0,r>>>=0,s>>>=0;var t=i+n|0;return i=n^n>>>9,n=r+(r<<3)|0,r=(r=r<<21|r>>>11)+(t=t+(s=s+1|0)|0)|0,(t>>>0)/4294967296})}}},9158:function(t,e,i){"use strict";i.d(e,{AO:function(){return a},AP:function(){return m},GU:function(){return c},JU:function(){return r},T8:function(){return l},bR:function(){return o},n3:function(){return d},s4:function(){return u}});var n,r,s=i(9107);(n=r||(r={}))[n.X=0]="X",n[n.Y=1]="Y",n[n.Z=2]="Z";class a{add(t){return new a(this.x+t.x,this.y+t.y,this.z+t.z)}sub(t){return new a(this.x-t.x,this.y-t.y,this.z-t.z)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}mul(t){return new a(this.x*t,this.y*t,this.z*t)}mulAdd(t,e){return new a(this.x+t.x*e,this.y+t.y*e,this.z+t.z*e)}lenSq(){return this.x*this.x+this.y*this.y+this.z*this.z}distSq(t){let e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}len(){return Math.sqrt(this.lenSq())}dist(t){return Math.sqrt(this.distSq(t))}normalize(){return this.mul(1/Math.sqrt(this.lenSq()))}mid(t){return new a((this.x+t.x)*.5,(this.y+t.y)*.5,(this.z+t.z)*.5)}abs(){return new a(Math.abs(this.x),Math.abs(this.y),Math.abs(this.z))}clone(){return new a(this.x,this.y,this.z)}toVec4(){return new l(this.x,this.y,this.z,1)}round(){return new a(Math.round(this.x),Math.round(this.y),Math.round(this.z))}round_(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}copy_(t){this.x=t.x,this.y=t.y,this.z=t.z}static cross(t,e){return new a(t.y*e.z-t.z*e.y,t.z*e.x-t.x*e.z,t.x*e.y-t.y*e.x)}writeToBuf(t,e){t[e+0]=this.x,t[e+1]=this.y,t[e+2]=this.z}static fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new a(t[e+0],t[e+1],t[e+2])}setAt(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e}return this}addAt(t,e){switch(t){case 0:this.x+=e;break;case 1:this.y+=e;break;case 2:this.z+=e}return this}getAt(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z}return 0}withSetAt(t,e){return this.clone().setAt(t,e)}withAddAt(t,e){return this.clone().addAt(t,e)}toString(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;return"Vec3(".concat(h(this.x,t),", ").concat(h(this.y,t),", ").concat(h(this.z,t),")")}rotateAbout(t,e){let i=Math.cos(e),n=Math.sin(e),r=a.cross(t,this),s=t.dot(this);return this.mul(i).add(r.mul(n)).add(t.mul(s*(1-i)))}lerp(t,e){return new a(t.x*e+this.x*(1-e),t.y*e+this.y*(1-e),t.z*e+this.z*(1-e))}constructor(t=0,e=0,i=0){this.x=+t,this.y=+e,this.z=+i}}a.zero=new a(0,0,0),a.one=new a(1,1,1);class l{getIdx(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("Invalid index ".concat(t))}}add(t){return new l(this.x+t.x,this.y+t.y,this.z+t.z,this.w+t.w)}sub(t){return new l(this.x-t.x,this.y-t.y,this.z-t.z,this.w-t.w)}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w+t.w}mul(t){return new l(this.x*t,this.y*t,this.z*t,this.w*t)}lenSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}distSq(t){let e=this.x-t.x,i=this.y-t.y,n=this.z-t.z,r=this.w-t.w;return e*e+i*i+n*n+r*r}len(){return Math.sqrt(this.lenSq())}dist(t){return Math.sqrt(this.distSq(t))}normalize(){return this.mul(1/Math.sqrt(this.lenSq()))}projToVec3(){return new a(this.x/this.w,this.y/this.w,this.z/this.w)}static lerp(t,e,i){return t.add(e.sub(t).mul(i))}writeToBuf(t,e){t[e+0]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w}static fromArray(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new l(t[e+0],t[e+1],t[e+2],t[e+3])}static fromVec3(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return new l(t.x,t.y,t.z,e)}toArray(){return[this.x,this.y,this.z,this.w]}static fromHexColor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;t.startsWith("#")&&(t=t.slice(1));let i=parseInt(t,16);return new l((i>>16&255)/255*e,(i>>8&255)/255*e,(255&i)/255*e,e)}toHexColor(){let t=t=>Math.floor(255*t).toString(16).padStart(2,"0");return"#".concat(t(this.x)).concat(t(this.y)).concat(t(this.z)).concat(t(this.w))}toString(){return"Vec4(".concat(h(this.x),", ").concat(h(this.y),", ").concat(h(this.z),", ").concat(h(this.w),")")}constructor(t=0,e=0,i=0,n=1){this.x=+t,this.y=+e,this.z=+i,this.w=+n}}function h(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return parseFloat(t.toFixed(e)).toString()}class o{addInPlace(t){return this.empty?(this.min.x=t.x,this.min.y=t.y,this.min.z=t.z,this.max.x=t.x,this.max.y=t.y,this.max.z=t.z,this.empty=!1):(this.min.x=Math.min(this.min.x,t.x),this.min.y=Math.min(this.min.y,t.y),this.min.z=Math.min(this.min.z,t.z),this.max.x=Math.max(this.max.x,t.x),this.max.y=Math.max(this.max.y,t.y),this.max.z=Math.max(this.max.z,t.z)),this}combineInPlace(t){return t.empty?this:this.addInPlace(t.min).addInPlace(t.max)}center(){let t=this.max,e=this.min;return new a(t.x+.5*(e.x-t.x),t.y+.5*(e.y-t.y),t.z+.5*(e.z-t.z))}size(){return this.max.sub(this.min)}contains(t){return!this.empty&&t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}intersects(t){return!this.empty&&!t.empty&&this.max.x>=t.min.x&&this.min.x<=t.max.x&&this.max.y>=t.min.y&&this.min.y<=t.max.y&&this.max.z>=t.min.z&&this.min.z<=t.max.z}expandInPlace(t){return this.empty||(this.min.x-=t,this.min.y-=t,this.min.z-=t,this.max.x+=t,this.max.y+=t,this.max.z+=t),this}shrinkInPlaceXY(t){return!this.empty&&(this.min.x+=t,this.min.y+=t,this.max.x-=t,this.max.y-=t,(this.min.x>this.max.x||this.min.y>this.max.y)&&(this.empty=!0,this.min=new a,this.max=new a)),this}clone(){let t=new o;return t.min=this.min.clone(),t.max=this.max.clone(),t.empty=this.empty,t}toString(){return"BoundingBox3d(".concat(this.min,", ").concat(this.max,")")}constructor(...t){for(let e of(this.min=new a,this.max=new a,this.empty=!0,t))this.addInPlace(e)}}class c{static add_(t,e,i,n,r,s){r[s+0]=t[e+0]+i[n+0],r[s+1]=t[e+1]+i[n+1],r[s+2]=t[e+2]+i[n+2]}static sub_(t,e,i,n,r,s){r[s+0]=t[e+0]-i[n+0],r[s+1]=t[e+1]-i[n+1],r[s+2]=t[e+2]-i[n+2]}static copy_(t,e,i,n){i[n+0]=t[e+0],i[n+1]=t[e+1],i[n+2]=t[e+2]}static normalize_(t,e,i,n){let r=t[e+0],s=t[e+1],a=t[e+2],l=1/Math.sqrt(r*r+s*s+a*a);i[n+0]=r*l,i[n+1]=s*l,i[n+2]=a*l}static len_(t,e){let i=t[e+0],n=t[e+1],r=t[e+2];return Math.sqrt(i*i+n*n+r*r)}}function u(t,e,i){let n=e.sub(t),r=i.sub(t),a=(0,s.uZ)(r.dot(n)/n.dot(n),0,1);return t.mulAdd(n,a)}function m(t,e,i){let n=e.sub(t),r=i.sub(t);return(0,s.uZ)(r.dot(n)/n.dot(n),0,1)}function d(t,e){return e.mul(t.dot(e)/e.dot(e))}},3916:function(t){t.exports={header:"page_header__ezAD0",back:"page_back__KmcK5"}},7501:function(t){t.exports={page:"FluidSimView_page__FFB8V",canvasWrap:"FluidSimView_canvasWrap__qBCc0",canvas:"FluidSimView_canvas__YZ0Xl"}},622:function(t,e,i){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=i(2265),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,h={key:!0,ref:!0,__self:!0,__source:!0};function o(t,e,i){var n,s={},o=null,c=null;for(n in void 0!==i&&(o=""+i),void 0!==e.key&&(o=""+e.key),void 0!==e.ref&&(c=e.ref),e)a.call(e,n)&&!h.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps)void 0===s[n]&&(s[n]=e[n]);return{$$typeof:r,type:t,key:o,ref:c,props:s,_owner:l.current}}e.Fragment=s,e.jsx=o,e.jsxs=o},7437:function(t,e,i){"use strict";t.exports=i(622)}},function(t){t.O(0,[685,971,596,744],function(){return t(t.s=8500)}),_N_E=t.O()}]);
//# sourceMappingURL=page-8296097a8bb4e590.js.map